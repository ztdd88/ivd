/* style.css - 完整版 */

/* --- 1. 基本重置和全局样式 --- */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    height: 100%;
    font-family: 'Noto Sans SC', 'Helvetica Neue', Arial, sans-serif;
    font-size: 14px;
    line-height: 1.6;
    color: #333;
    background-color: #f4f7f9;
    overflow: hidden; /* 防止主页面滚动 */
}

/* --- 2. 汉堡包按钮样式 (移动端显示) --- */
.menu-toggle {
    position: fixed; /* 固定定位 */
    top: 15px;
    left: 15px;
    z-index: 1001; /* 比侧边栏和遮罩层都高 */
    background-color: #fff; /* 白色背景 */
    color: #34495e; /* 图标颜色 */
    border: 1px solid #ccc;
    border-radius: 4px;
    padding: 5px 10px;
    font-size: 20px; /* 图标大小 */
    line-height: 1;
    cursor: pointer;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    display: none; /* ** 默认在桌面端隐藏 ** */
}

/* --- 3. 遮罩层样式 (移动端菜单打开时显示) --- */
.overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5); /* 半透明黑色 */
    z-index: 999; /* 低于侧边栏，高于内容 */
    display: none; /* ** 默认隐藏 ** */
    opacity: 0; /* 初始透明 */
    transition: opacity 0.3s ease-in-out;
}
.overlay.open {
    display: block;
    opacity: 1;
}

/* --- 4. 容器布局 (桌面端默认 Flexbox) --- */
.container {
    display: flex;
    height: 100vh; /* 占满视口高度 */
}

/* --- 5. 侧边栏样式 (基础及桌面端) --- */
.sidebar {
    width: 240px; /* 固定宽度 */
    flex-shrink: 0; /* 防止侧边栏被压缩 */
    background-color: #ffffff; /* 侧边栏背景 */
    border-right: 1px solid #e0e0e0; /* 右边框 */
    padding-top: 20px; /* 顶部留白 */
    padding-bottom: 20px; /* 底部留白 */
    display: flex;
    flex-direction: column;
    overflow-y: auto; /* 内容多时允许滚动 */
    /* 为移动端滑出添加过渡效果 */
    transition: transform 0.3s ease-in-out;
    /* 确保在桌面和移动端隐藏状态下有基础 z-index (虽然移动端会覆盖) */
    z-index: 1000;
}

.sidebar-header {
    padding: 0 20px 15px 20px; /* 内边距 */
    border-bottom: 1px solid #e0e0e0; /* 标题下边框 */
    margin-bottom: 15px; /* 与列表的间距 */
}

.sidebar-header h2 {
    font-size: 18px;
    font-weight: 500; /* 中等字重 */
    color: #2c3e50; /* 标题颜色 */
}

.nav-list {
    list-style: none;
    padding: 0;
    margin: 0;
    flex-grow: 1; /* 占据剩余空间 */
}

.nav-list li {
    margin: 0; /* 移除列表项默认外边距 */
}

/* 父目录 (分类标题) 样式 */
.nav-parent {
    display: block;
    padding: 12px 20px 8px 20px; /* 调整内边距 */
    color: #566573; /* 颜色比链接稍深或稍灰 */
    font-weight: 500; /* 字重稍粗 */
    font-size: 0.9em; /* 字号稍小 */
    text-transform: uppercase; /* (可选) 字母大写 */
    letter-spacing: 0.5px; /* (可选) 增加字间距 */
    cursor: default; /* 表明不可点击 */
    margin-top: 10px; /* 与上一个目录组的间距 */
}
/* 第一个父目录无上边距 */
.nav-list > li:first-child > .nav-parent {
    margin-top: 0;
}


/* 导航链接样式 */
.nav-link {
    display: block;
    padding: 10px 20px; /* 内边距 */
    text-decoration: none;
    color: #34495e; /* 链接颜色 */
    font-weight: 400;
    border-left: 3px solid transparent; /* 左侧激活指示条（默认透明） */
    transition: background-color 0.2s ease, color 0.2s ease, border-left-color 0.2s ease;
}

.nav-link:hover {
    background-color: #ecf0f1; /* 鼠标悬停背景色 */
    color: #2c3e50; /* 鼠标悬停文字颜色 */
}

.nav-link.active {
    background-color: #e9f5ff; /* 激活状态背景色 */
    color: #3498db; /* 激活状态文字颜色 */
    font-weight: 500; /* 激活状态字重加粗 */
    border-left-color: #3498db; /* 激活状态左侧指示条 */
}

/* 子菜单样式 */
.sub-nav-list {
    list-style: none;
    padding-left: 20px; /* 子菜单缩进 */
    margin-top: 5px;
    margin-bottom: 5px;
}

.sub-nav-list .nav-link {
    padding-left: 30px; /* 子菜单项更深的缩进 */
    font-size: 0.95em; /* 子菜单字号稍小 */
    color: #7f8c8d; /* 子菜单颜色稍淡 */
}

.sub-nav-list .nav-link:hover {
    color: #34495e;
}

.sub-nav-list .nav-link.active {
     color: #2980b9; /* 子菜单激活颜色 */
     font-weight: 500;
     background-color: #e9f5ff;
     border-left-color: #2980b9;
}

/* 更深层级的子菜单缩进 (如果需要) */
.sub-nav-list.deeper {
    padding-left: 35px; /* 增加缩进 */
}
.sub-nav-list.deeper .nav-link {
     padding-left: 45px; /* 对应调整链接缩进 */
}


/* --- 6. 内容区域样式 (桌面端) --- */
.content {
    flex-grow: 1; /* 占据剩余宽度 */
    background-color: #ffffff; /* 内容区背景 */
    padding: 0; /* 内边距设为0，让 iframe 填满 */
    overflow: hidden; /* 避免意外滚动条 */
}

/* --- 7. Iframe 样式 --- */
#content-frame {
    display: block; /* 避免 iframe 下方有空隙 */
    width: 100%;
    height: 100%;
    border: none; /* 移除边框 */
}


/* --- 8. 媒体查询：移动端样式 (覆盖和新增) --- */
@media (max-width: 768px) { /* 在平板和手机尺寸下应用 */
    .menu-toggle {
        display: block; /* ** 显示汉堡包按钮 ** */
    }

    .sidebar {
        position: fixed; /* ** 改为固定定位，脱离文档流 ** */
        left: 0;
        top: 0;
        height: 100%; /* 高度占满视口 */
        /* z-index: 1000; 已在基础样式中设置 */
        transform: translateX(-100%); /* ** 默认移出屏幕左侧 ** */
        border-right: 1px solid #ccc; /* 可以加深一点边框 */
        box-shadow: 2px 0 5px rgba(0,0,0,0.2); /* 加一点阴影 */
        padding-top: 60px; /* ** 确保内容不被固定按钮遮挡 ** */
    }

    .sidebar.open {
        transform: translateX(0); /* ** 移入屏幕 ** */
    }

    .content {
         /* 内容区自动占满宽度，因为侧边栏是 fixed 定位 */
         /* 如果在侧边栏滑出时，内容区被遮罩层覆盖，这里通常不需要额外调整 */
    }
}